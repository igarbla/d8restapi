<!DOCTYPE html>
<html lang="es" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>D8 API</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script defer src="app.js"></script>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="app" class="page">
      <header class="page__header">
        <h1 class="page__title">Coches &mdash; Drupal 8 REST API</h1>
      </header>
      <main>
        <section v-if="!loaded">
          <h1>Loading data ...</h1>
        </section>
        <section v-if="loaded">
          <form class="form" action="#">
            <label for="matricula">Matrícula</label>
            <input
              type="text"
              id="matricula"
              name="matricula"
              v-model="filtro.matricula"
              @input="filterCoches">

            <label for="colorFilter">Color</label>
            <input
              type="checkbox"
              id="colorFilter"
              name="colorFilter"
              value="false"
              v-model="colorFilter"
              @change="filterCoches">

            <fieldset v-if="colorFilter">
              <label for="blanco">
                <input
                  type="radio"
                  id="blanco"
                  name="color"
                  value="blanco"
                  v-model="filtro.color"
                  @change="filterCoches" />Blanco
              </label>

              <label for="gris">
                <input
                  type="radio"
                  id="gris"
                  name="color"
                  value="gris"
                  v-model="filtro.color"
                  @change="filterCoches" />Gris
              </label>

              <label for="rojo">
              <input
                type="radio"
                id="rojo"
                name="color"
                value="rojo"
                v-model="filtro.color"
                @change="filterCoches" />Rojo
              </label>

            </fieldset>

            <label for="propietario">Propietario</label>
            <input
              type="text"
              id="propietario"
              name="propietario"
              v-model="filtro.propietario"
              @input="filterCoches">

            <label for="kilometros">Kilometros</label>
            <input
              type="range"
              id="kilometros"
              min="0"
              max="2000000"
              value="1000000"
              step="10000"
              v-model="filtro.kilometros"
              @input="filterCoches">

          </form>
        </section>
        <section v-if="loaded">
          <p>Total coches: {{ total }}</p>
          <p v-if="total">Página {{ this.pagina.current }} / {{ paginas }}</p>
          <p>Kilometros: {{ filtro.kilometros }}</p>
          <button type="button" name="button" @click="previousPage" v-if="previous">Anterior</button>
          <button type="button" name="button" @click="nextPage" v-if="next">Siguiente</button>
          <ul class="list">
            <coche
              class="list__item"
              v-for="coche in pagina.items"
              v-bind:coche="coche"
              v-bind:key="coche.id"
              >
            </coche>
          </ul>
        </section>

      </main>

    </div>
  </body>
</html>
